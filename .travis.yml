sudo: false

language: c++

branches:
  only:
    - master

addons:
  apt:
    packages:
      - cmake
      - doxygen

compiler: gcc
os: linux

before_script:
  - if [ -n "${CLANG}" ]; then COMPILER="$CLANG"; fi
  - ${COMPILER} --version
  - CXX="$COMPILER"

script:
  - scripts/build.sh

deploy:
  provider: pages
  skip_cleanup: true
  local_dir: doc/html
  github_token: $GH_REPO_TOKEN
  on:
    branch: master
